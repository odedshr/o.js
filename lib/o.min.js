var O=function(){"use strict";function e(e,n){this.message=e,this.stack=n}function n(e){function n(e,n,t){var r,i=new Date;void 0===t&&(t=0),i.setTime(i.getTime()+24*t*60*60*1e3),r="expires="+i.toUTCString(),document.cookie=e+"="+n+"; "+r}function t(e){return document.cookie.replace(new RegExp("(?:(?:^|.*;\\s*)"+e+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")}function r(r,i,o){return void 0!==i?(n(r,i,o),e):t(r)}return r.bind(e)}function t(){function n(n,t,r,i){var o=new e(i,{});o.status=t.status,o.url=t.responseURL,o.data=r,n(o)}function t(e,t,r,o,u){var s=-1===["GET","DELETE"].indexOf(e);if(s||(u=o,o=r,r=void 0),"undefined"==typeof t){if(!i.url)throw new Error("missing-url");t=i.url}u=u||{},void 0===u.credentials&&(u.credentials=i.credentials),void 0===u.type&&(u.type=i.type);var a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return a.onload=function(){a.readyState==XMLHttpRequest.DONE&&(4==+a.readyState&&200==+a.status?o?o(a.response):i.callback&&i.callback(a.response):n(o,a,r,a.statusText))},a.onerror=n.bind({},o,a,r),a.withCredentials=void 0!==u.credentials,a.open(e,encodeURI(t),!0),u.credentials&&a.setRequestHeader("Authorization",u.credentials),u.type&&(a.responseType=u.type),s&&a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.send(r?JSON.stringify(r):!1),a}function r(e){for(var n in e)i.hasOwnProperty(n)&&(i[n]=e[n])}var i={credentials:!1,type:"json",url:!1,callback:!1};return{get:t.bind({},"GET"),post:t.bind({},"POST"),put:t.bind({},"PUT"),"delete":t.bind({},"DELETE"),setDefaults:r.bind({})}}function r(){function e(e,n,t){var r=document.createElement(e);return n&&Object.keys(n).forEach(function(e){r.setAttribute(e,n[e])}),t&&(r.innerHTML=t),r}function n(e){return a.parseFromString(e.trim(),"text/html").body.firstChild}function t(e){return"string"==typeof e?n(e):e}function r(e,n){return e.parentNode.insertBefore(t(n),e),d}function i(e,n){return e.parentNode.insertBefore(t(n),e.nextSibling),d}function o(e,n){return e.insertBefore(t(n),e.firstChild),d}function u(e,n){return e.appendChild(t(n)),d}function s(e){if("object"!=typeof e)throw"bad input for DOM.remove function ("+e+")";if(!e.parentNode||!e.removeChild)throw"cannot remove child without a parentNode";e.parentNode.removeChild(e)}var a=new DOMParser,d={create:e,parse:n,insertBefore:r,insertAfter:i,prepend:o,append:u,remove:s};return d}function i(e){function n(e,n){"undefined"==typeof E[e]&&(E[e]={});for(var t in n)n.hasOwnProperty(t)&&(E[e][t]=n[t]);return x}function t(){return c?(window.navigator.userLanguage||window.navigator.language).toLowerCase():"en-us"}function r(e,n){var t,i,o,u=!1,s=n.split(":"),a=s[1];if(n=s[0],"."===n)u=e;else{if(void 0===e)return;for(i=n.split("."),u=e.hasOwnProperty(i[0])?e[i[0]]:"."===i[0]?e:"",t=1;t<i.length;t++)u=u.hasOwnProperty(i[t])?u[i[t]]:""}return a&&(a=a.match(O.quote)?a.replace(/'/g,""):r(e,a)),a?(o={},o[a]="."===n?u:e[n],w(o)):u}function i(e,n){O.std=new RegExp(e+"([^#]+?)"+n,"g"),O.lng=new RegExp(e+"#(.+?)"+n,"g"),O["if"]=new RegExp(e+"\\?(.+?)"+n+"([\\s\\S]+?)"+e+"[\\/$]\\1"+n,"g"),O.ifNot=new RegExp(e+"\\?\\!(.+?)"+n+"([\\s\\S]+?)"+e+"\\/\\1"+n,"g"),O.loop=new RegExp(e+"([^@}]+?)@([\\s\\S]+?)(:([\\s\\S]+?))?"+n+"([\\s\\S]+?)"+e+"\\/\\1@\\2"+n,"g"),O.inner=new RegExp(e+"\\@([\\s\\S]+?)"+n+"([\\s\\S]+?)"+e+"\\/\\1"+n,"g"),O.fix=new RegExp(e+"'([^'}]+?)','([\\s\\S]+?)'"+n+"([\\s\\S]+?)"+e+"\\/'\\1','\\2'"+n,"g"),O.quote=new RegExp("^'.*'$")}function o(e){return e.replace(O.escape,"\\$&")}function u(e,n){return e.lastIndex=0,e.exec(n)}function s(){return y}function a(){return Object.keys(S)}function d(n,t){return e.AJAX.get(n,f.bind({},t),{type:"text"}),x}function f(e,n){for(var t;null!==(t=O.template.exec(n));)m(t[2],t[1]);"function"==typeof e&&e(a())}function l(n,t){return c?e.AJAX.get(n,p.bind({},t),{type:"json"}):p(t,require(n)),x}function p(e,t){for(var r in t)t.hasOwnProperty(r)&&n(r,t[r]);"function"==typeof e&&e(Object.keys(t))}function g(e,n){for(var t,s,a,d,c,f,l,p,w,v;null!==(t=O.fix.exec(e));)s={start:o(t[1]),end:o(t[2])},j.push(s),i(s.start,s.end),e=e.split(t[0]).join(g(t[3],n)),j.pop(),a=j[j.length-1],i(a.start,a.end),O.fix.lastIndex=0;for(;null!==(t=u(O.inner,e));)e=e.split(t[0]).join(g(t[2],r(n,t[1])));for(;null!==(t=u(O.loop,e));)if(d=[],f=0,w=r(n,t[2]),v=t[4],Array.isArray(w)){for(c=t[1],p={elmenet:n[c],idx:n[v]},l=w.length;l>f;f++)n[c]=w[f],n[v]=f,d.push(g(t[5],n));e=e.split(t[0]).join(d.join("")),n[c]=p.elmenet,n[v]=p.idx}else if(void 0!==w)if(c=w[t[1]],void 0!==c){for(l=c.length;l>f;f++)p=c[f],"object"==typeof p&&"undefined"!=typeof v&&(p[v]=f),d.push(g(t[5],p));e=e.split(t[0]).join(d.join(""))}else e=e.split(t[0]).join("");else e=e.split(t[0]).join("");for(;null!==(t=u(O.ifNot,e));)e=e.split(t[0]).join(r(n,t[1])?"":t[2]);for(;null!==(t=u(O["if"],e));)e=e.split(t[0]).join(r(n,t[1])?t[2]:"");for(;null!==(t=u(O.std,e));)e=e.split(t[0]).join(h(r(n,t[1])));for(;null!==(t=u(O.lng,e));)e=e.split(t[0]).join(b(t[1]));return e}function w(e){var n=Object.keys(e)[0];if(1!==Object.keys(e).length)throw new Error("cannot render multiple templates!");if(void 0===S[n])throw new Error("template not found:"+n);return g(S[n],e[n])}function v(e){return y=e?e:t(),x}function h(e){return"function"==typeof e?e():"object"==typeof e?JSON.stringify(e):e}function b(e){var n=E[y][e];return h("undefined"!=typeof n?n:e.substr(e.indexOf(".")+1))}function m(e,n){if(void 0===n&&"string"!=typeof e&&(n=e.getAttribute("data-template"),void 0===n&&(n=e.getAttribute("data-id")),void 0===n&&(n=e.getAttribute("id"))),!n)throw new Error("could not determine id for template "+e);return S[n]="string"==typeof e?e:e.innerHTML?e.innerHTML:e.html(),x}var y=t(),E={},x={load:d,use:m,loadLanguage:l,appendToLanguage:n,setLocale:v,getLocale:s,translate:b,list:a,render:c?w:g},O={template:new RegExp('<template data-id="([\\s\\S]+?)">([\\s\\S]+?)</template>',"g"),escape:new RegExp("[-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^$\\|]","gm")},j=[{start:"{{",end:"}}"}],S={};return E[y]={},i(j[0].start,j[0].end),x}function o(){d.EVT=u(),d.ELM=s(),d.CSS=a()}function u(){var e=window.onload?window.onload:!1,n=function(e,n){return document.dispatchEvent(new CustomEvent(e,{detail:n}))},t=function(e,t){return"function"==typeof t&&r(e,t),function(t){return n(e,t)}},r=function(e,n){return document.addEventListener(e,n),this},i=function(e,n){return document.removeEventListener(e,n),this},o={subscribe:r.bind(o),unsubscribe:i.bind(o),dispatch:n.bind(o),getDispatcher:t.bind(o)};return window.onload=o.getDispatcher("window.onload"),e&&o.subscribe("window.onload",e),o}function s(){function e(){var e=s;for(var n in s)s.hasOwnProperty(n)&&"function"!=typeof s[n]&&delete s[n];return[].forEach.call(document.querySelectorAll("[id]"),function(n){e[n.id]=n}),s}function n(n){return n?(o.observe(document.body,u),e()):o.disconnect(),s}function t(e){var n=document.querySelectorAll(e);return n.each=r.bind(n),n.remove=r.bind(n,d.DOM.remove),n.useAsTemplate=r.bind(n,d.TPL.use),n.html=r.bind(n,function(e,n){e.innerHTML=n}),n.css={add:r.bind(n,d.CSS.add),remove:r.bind(n,d.CSS.remove),toggle:r.bind(n,d.CSS.toggle)},n}function r(e){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var r=0;r<this.length;r++)n[0]=this[r],e.apply(this,n);return this}function i(){n(!0)}var o=new MutationObserver(e.bind(s)),u={childList:!0,subtree:!0,attributes:!1,characterData:!1,attributeOldValue:!1,characterDataOldValue:!1},s={refresh:e,per:t,observe:n};return d.EVT.subscribe("window.onload",i),s}function a(){function e(e,t){var r=e.className.split(" ");return-1==r.indexOf(n()+t)&&r.push(n()+t),e.className=r.join(" "),a}function n(){return t?u:""}function t(e){return"undefined"!=typeof e&&(s=e),s}function r(e,t){return e&&e.className.split(" ").indexOf(n()+t)>-1}function i(e,t){var r=e.className.split(" ");return-1!=r.indexOf(n()+t)&&r.splice(r.indexOf(n()+t),1),e.className=r.join(" "),a}function o(e,t,r,i){var o=e.className.split(" "),u=-1!=o.indexOf(n()+t);return u?(i||!r&&!i)&&o.splice(o.indexOf(n()+t),1):(r||!r&&!i)&&o.push(n()+t),e.className=o.join(" "),a}var u="js-",s=!0,a={has:r,add:e,remove:i,toggle:o,isJsPrefixed:t};return a}var d=this,c="undefined"!=typeof window;return d.VER={framework:"0.2.0"},e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,c&&(d.COOKIE=n(this)),c&&(d.AJAX=t()),c&&(d.DOM=r()),d.TPL=i(d),d.enableDeprecatedFunction=o,d}.call(function(e){return"undefined"!=typeof window?function(){return void 0===window[e]&&(window[e]={}),window[e]}():module.exports}("ã€‡"));
