var O=function(){"use strict";function t(t,e){this.message=t,this.stack=e}return this.VER={framework:"0.1.3"},this.isNodeJS="undefined"==typeof window,t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,this.isNodeJS||(this.COOKIE=function(){var t=function(t,e,n){if(void 0!==e){void 0===n&&(n=0);var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var r="expires="+i.toUTCString();return document.cookie=t+"="+e+"; "+r,this}return document.cookie.replace(new RegExp("(?:(?:^|.*;\\s*)"+t+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")}.bind(this);return t}.call(this),this.EVT=function(){var t={},e=window.onload?window.onload:!1,n=function(t,e){return document.dispatchEvent(new CustomEvent(t,{detail:e}))},i=function(t,e){return"function"==typeof e&&r(t,e),function(e){return n(t,e)}},r=function(t,e){return document.addEventListener(t,e),this},o=function(t,e){return document.removeEventListener(t,e),this};return t.subscribe=r.bind(t),t.unsubscribe=o.bind(t),t.dispatch=n.bind(t),t.getDispatcher=i.bind(t),window.onload=t.getDispatcher("window.onload"),e&&t.subscribe("window.onload",e),t}.call(this),this.ELM=function(){var t={},e=function(){var t=this;for(var e in this)this.hasOwnProperty(e)&&"function"!=typeof this[e]&&delete this[e];return[].forEach.call(document.querySelectorAll("[id]"),function(e){t[e.id]=e}),this}.bind(t),n=new MutationObserver(e.bind(t)),i={childList:!0,subtree:!0,attributes:!1,characterData:!1,attributeOldValue:!1,characterDataOldValue:!1},r=function(t){return t?(n.observe(document.body,i),e()):n.disconnect(),this}.bind(t),o=function(t){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i=0;i<this.length;i++)e[0]=this[i],t.apply(this,e);return this},s=function(t){var e=document.querySelectorAll(t);return e.each=o.bind(e),e.remove=o.bind(e,this.DOM.remove),e.useAsTemplate=o.bind(e,this.TPL.use),e.html=o.bind(e,function(t,e){t.innerHTML=e}),e.css={add:o.bind(e,this.CSS.add),remove:o.bind(e,this.CSS.remove),toggle:o.bind(e,this.CSS.toggle)},e}.bind(this);return t.refresh=e,t.per=s.bind(t),t.observe=r,this.EVT.subscribe("window.onload",function(){r(!0)}.bind(this)),t}.call(this),this.DOM=function(){var t={},e=function(t,e,n){var i=document.createElement(t);return e&&Object.keys(e).forEach(function(t){i.setAttribute(t,e[t])}),n&&(i.innerHTML=n),i},n=new DOMParser,i=function(t){return n.parseFromString(t.trim(),"text/html").body.firstChild},r=function(t){return"string"==typeof t?i(t):t},o=function(t,e){return t.parentNode.insertBefore(r(e),t),this},s=function(t,e){return t.parentNode.insertBefore(r(e),t.nextSibling),this},a=function(t,e){return t.insertBefore(r(e),t.firstChild),this},d=function(t,e){return t.appendChild(r(e)),this},u=function(t){if("object"!=typeof t)throw"bad input for DOM.remove function ("+t+")";if(!t.parentNode||!t.removeChild)throw"cannot remove child without a parentNode";t.parentNode.removeChild(t)};return t.create=e.bind(t),t.parse=i.bind(t),t.insertBefore=o.bind(t),t.insertAfter=s.bind(t),t.prepend=a.bind(t),t.append=d.bind(t),t.remove=u.bind(t),t}.call(this),this.CSS=function(){var t={},e="js-",n=!0,i=function(){return n?e:""},r=function(t,e){return t&&t.className.split(" ").indexOf(i()+e)>-1},o=function(t,e,n,r){var o=t.className.split(" "),s=-1!=o.indexOf(i()+e);return s?(r||!n&&!r)&&o.splice(o.indexOf(i()+e),1):(n||!n&&!r)&&o.push(i()+e),t.className=o.join(" "),this},s=function(t,e){var n=t.className.split(" ");return-1==n.indexOf(i()+e)&&n.push(i()+e),t.className=n.join(" "),this},a=function(t,e){var n=t.className.split(" ");return-1!=n.indexOf(i()+e)&&n.splice(n.indexOf(i()+e),1),t.className=n.join(" "),this};return t.has=r.bind(t),t.add=s.bind(t),t.remove=a.bind(t),t.toggle=o.bind(t),t.toggle=o.bind(t),t.isJsPrefixed=function(t){return"undefined"!=typeof t&&(n=t),n},t}.call(this),this.AJAX=function(){function e(e,n,i,r){var o=new t(r,{});o.status=n.status,o.url=n.responseURL,o.data=i,e(o)}var n={},i={credentials:!1,type:"json",url:!1,callback:!1},r=function(t,n,r,o,s){var a=-1===["GET","DELETE"].indexOf(t);if(a||(s=o,o=r,r=void 0),"undefined"==typeof n){if(!i.url)throw new Error("missing-url");n=i.url}s=s||{},void 0===s.credentials&&(s.credentials=i.credentials),void 0===s.type&&(s.type=i.type);var d=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return d.onload=function(){d.readyState==XMLHttpRequest.DONE&&(4==+d.readyState&&200==+d.status?o?o(d.response):i.callback&&i.callback(d.response):e(o,d,r,d.statusText))},d.onerror=e.bind(this,o,d,r),d.withCredentials=void 0!==s.credentials,d.open(t,encodeURI(n),!0),s.credentials&&d.setRequestHeader("Authorization",s.credentials),s.type&&(d.responseType=s.type),a&&d.setRequestHeader("Content-Type","application/json;charset=UTF-8"),d.send(r?JSON.stringify(r):!1),d},o=function(t){for(var e in t)i.hasOwnProperty(e)&&(i[e]=t[e])};return n.get=r.bind(n,"GET"),n.post=r.bind(n,"POST"),n.put=r.bind(n,"PUT"),n["delete"]=r.bind(n,"DELETE"),n.setDefaults=o.bind(n),n}.call(this)),this.TPL=function(){function t(t,e){return t.lastIndex=0,t.exec(e)}var e,n,i,r,o,s,a,d,u=function(){return this.isNodeJS?"en-us":(window.navigator.userLanguage||window.navigator.language).toLowerCase()}.bind(this),c=u(),l={},f={},p={},h=[{start:"{{",end:"}}"}],b=function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/gm,"\\$&")};l[c]={};var v=function(t,u){e=new RegExp(t+"([^#]+?)"+u,"g"),n=new RegExp(t+"#(.+?)"+u,"g"),i=new RegExp(t+"\\?(.+?)"+u+"([\\s\\S]+?)"+t+"[\\/$]\\1"+u,"g"),r=new RegExp(t+"\\?\\!(.+?)"+u+"([\\s\\S]+?)"+t+"\\/\\1"+u,"g"),o=new RegExp(t+"([^@}]+?)@([\\s\\S]+?)(:([\\s\\S]+?))?"+u+"([\\s\\S]+?)"+t+"\\/\\1@\\2"+u,"g"),s=new RegExp(t+"\\@([\\s\\S]+?)"+u+"([\\s\\S]+?)"+t+"\\/\\1"+u,"g"),a=new RegExp(t+"'([^'}]+?)','([\\s\\S]+?)'"+u+"([\\s\\S]+?)"+t+"\\/'\\1','\\2'"+u,"g"),d=new RegExp("^'.*'$")}.bind(this),g=new RegExp('<template data-id="([\\s\\S]+?)">([\\s\\S]+?)</template>',"g"),w=function(t,e){if(void 0===e&&"string"!=typeof t&&(e=t.getAttribute("data-template"),void 0===e&&(e=t.getAttribute("data-id")),void 0===e&&(e=t.getAttribute("id"))),!e)throw new Error("could not determine id for template "+t);return p[e]="string"==typeof t?t:t.innerHTML?t.innerHTML:t.html(),this}.bind(f),m=function(){return Object.keys(p)},y=function(t){return this.AJAX.get(t,function(t){for(var e;null!==(e=g.exec(t));)w(e[2],e[1]);this.EVT.dispatch("TPL.templatesLoaded",m())}.bind(this),{type:"text"}),this}.bind(this),E=function(t){return this.isNodeJS?O(require(t)):this.AJAX.get(t,O,{type:"json"}),this}.bind(this),O=function(t){for(var e in t)t.hasOwnProperty(e)&&S(e,t[e]);this.isNodeJS||this.EVT.dispatch("TPL.languageLoaded",Object.keys(t))}.bind(this),S=function(t,e){"undefined"==typeof l[t]&&(l[t]={});for(var n in e)e.hasOwnProperty(n)&&(l[t][n]=e[n]);return this},x=function(t){return c=t?t:u(),this},T=function(){return c},j=function(t,e){var n=!1,i=e.split(":"),r=i[1];if(e=i[0],"."===e)n=t;else{var o=e.split(".");if(o.length>1){n=t.hasOwnProperty(o[0])?t[o[0]]:o[0];for(var s=1;s<o.length;s++)n=n.hasOwnProperty(o[s])?n[o[s]]:o[s]}else n=t.hasOwnProperty(e)?t[e]:"."===e?t:e}if(r){var a={};return r=r.match(d)?r.replace(/'/g,""):j(t,r),a[r]=n,A(a)}return n},L=function(t){return"function"==typeof t?t():"object"==typeof t?JSON.stringify(t):t},N=function(t){var e=l[c][t];return L("undefined"!=typeof e?e:t.substr(t.indexOf(".")+1))},A=function(t){if(1!==Object.keys(t).length)throw new Error("cannot render multiple templates!");var e=Object.keys(t)[0];if(void 0===p[e])throw new Error("template not found:"+e);return R(p[e],t[e])},R=function(d,u){for(var c;null!==(c=a.exec(d));){var l={start:b(c[1]),end:b(c[2])};h.push(l),v(l.start,l.end),d=d.split(c[0]).join(R(c[3],u)),h.pop();var f=h[h.length-1];v(f.start,f.end),a.lastIndex=0,a.lastIndex=0}for(;null!==(c=t(s,d));)d=d.split(c[0]).join(R(c[2],j(u,c[1])));for(;null!==(c=t(o,d));){var p,g,w,m=[],y=0,E=j(u,c[2]),O=c[4];if(Array.isArray(E)){for(p=c[1],w={elmenet:u[p],idx:u[O]},g=E.length;g>y;y++)u[p]=E[y],u[O]=y,m.push(R(c[5],u));d=d.split(c[0]).join(m.join("")),u[p]=w.elmenet,u[O]=w.idx}else if(p=E[c[1]],void 0!==p){for(g=p.length;g>y;y++)w=p[y],"object"==typeof w&&"undefined"!=typeof O&&(w[O]=y),m.push(R(c[5],w));d=d.split(c[0]).join(m.join(""))}else d=d.split(c[0]).join("")}for(;null!==(c=t(r,d));)d=d.split(c[0]).join(j(u,c[1])===!1?c[2]:"");for(;null!==(c=t(i,d));)d=d.split(c[0]).join(j(u,c[1])===!0?c[2]:"");for(;null!==(c=t(e,d));)d=d.split(c[0]).join(L(j(u,c[1])));for(;null!==(c=t(n,d));)d=d.split(c[0]).join(N(c[1]));return d};return v(h[0].start,h[0].end),f.load=y.bind(f),f.use=w,f.loadLanguage=E.bind(f),f.appendToLanguage=S.bind(f),f.setLocale=x.bind(f),f.getLocale=T.bind(f),f.translate=N.bind(f),f.list=m.bind(f),f.render=this.isNodeJS?R.bind(f):A.bind(f),this.isNodeJS?module.exports=f:this.EVT.subscribe("window.onload",function(){this.ELM.per('[data-template]:not([data-template=""]').useAsTemplate()}.bind(this)),f}.call(this),this}.call(function(t){var e="undefined"!=typeof window?window:module?module.exports:e;return void 0===e[t]&&(e[t]={}),e[t]}("ã€‡"));
